import { tags } from "typia";

/**
 * 소셜 계정과 내부 인증 계정의 매핑 레코드(단방향) 기본 스키마.
 *
 * OAuth2 연동 계정 관리 및 ID 연계 감사/인증용 엔터티.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IAttendanceSocialAccount = {
  /** 소셜 계정 매핑 Row의 고유 식별자(UUID) */
  id: string & tags.Format<"uuid">;

  /** 내부 인증(accound) 매핑기준 고유 id */
  auth_account_id: string & tags.Format<"uuid">;

  /** 소셜 로그인 공급자 타입(예: 'google', 'naver', 'kakao') */
  provider: string;

  /** 외부 소셜 플랫폼에서 발급된 provider별 고유 사용자 식별자 */
  social_id: string;

  /** 연동(매핑) 최초 시각. ISO 8601/RFC3339 date-time */
  created_at: string & tags.Format<"date-time">;
};
export namespace IAttendanceSocialAccount {
  /**
   * 소셜 계정 매핑 리스트(검색/페이징) 조회 요청 객체.
   *
   * OAuth2 연동 계정 관리, 내부 인증계정과의 매핑 관계 등 조회 시 파라미터 필드 구성.
   */
  export type IRequest = {
    /**
     * 연동된 소셜 로그인 공급자의 타입입니다. 'google', 'naver', 'kakao' 등 외부 OAuth2 제공자 Key
     * 문자열을 저장합니다.
     *
     * 이 필드는 외부 인증 연동 및 계정 매핑 API에서 소셜 계정 검색·필터링 대상으로 사용됩니다.
     */
    provider?: string;

    /**
     * 외부 소셜 서비스 제공자로부터 발급된 고유 사용자 식별자입니다. 일반적으로 OAuth2 플랫폼에서 제공하는 유저ID입니다.
     *
     * 예: 구글 'sub', 네이버 'id' 값 등. 소셜 계정조회 시 필터로 활용됩니다.
     */
    social_id?: string;

    /**
     * 내부 시스템의 기준이 되는 인증 계정의 고유 식별자(UUID)입니다. attendance_auth_account 테이블의
     * id와 대응합니다.
     *
     * 지정 시 소셜 계정 매핑 검색에 활용됩니다.
     */
    auth_account_id?: string & tags.Format<"uuid">;

    /**
     * 페이지네이션 요청 시 반환 받을 페이지 번호입니다. 1부터 시작합니다.
     *
     * 예: page=1은 첫 페이지, 2는 두 번째 페이지.
     */
    page?: number & tags.Type<"int32">;

    /**
     * 한 페이지당 포함할 레코드 개수(최대 100)
     *
     * 기본값 미지정 시 시스템에서 설정한 기본값(보통 20~50)이 적용됩니다.
     */
    limit?: number & tags.Type<"int32">;
  };

  /**
   * 새 소셜 계정 매핑 연결 시 생성 요청 오브젝트.
   *
   * 외부 Oauth2 인증후 내부 인증계정과 연동 저장.
   */
  export type ICreate = {
    /** 내부 인증계정 고유 식별자(UUID)로, 소셜로그인 연동할 로컬 계정입니다. */
    auth_account_id: string & tags.Format<"uuid">;

    /** 연동할 외부 소셜 플랫폼명. 예: google, naver, kakao */
    provider: string;

    /** 외부 소셜 플랫폼 UQ id(예: Google sub, Naver id) */
    social_id: string;
  };

  /** 소셜 계정 매핑(연동) 엔터티 수정 요청 DTO(부분/전체 갱신 지원, 모든 필드 optional). */
  export type IUpdate = {
    /** 변경할 내부 인증계정 UUID */
    auth_account_id?: string & tags.Format<"uuid">;

    /** 변경 시, 새 연동외부 소셜 플랫폼명 */
    provider?: string;

    /** 변경 시, 새 외부 유저 식별자 */
    social_id?: string;
  };
}
