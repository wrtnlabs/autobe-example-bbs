import { tags } from "typia";

/**
 * 단일 감사/통계 활동 로그 레코드.
 *
 * 각 액티비티에 대한 주요 정보와 관련 엔티티(주제, 스레드, 게시글 등)의 참조, 메타 데이터를 포함합니다. GDPR, 보안, 운영 분석,
 * 분쟁 해결 등의 다양한 용도로 활용됩니다.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IDiscussionBoardActivityLog = {
  /**
   * 활동 로그 고유 식별자(UUID).
   *
   * 감사 및 분석을 위한 단일 로그 레코드의 PK입니다.
   */
  id: string & tags.Format<"uuid">;

  /** 행위자의 UUID. 액션을 수행한 사용자(회원/모더레이터/관리자/게스트)의 식별자입니다. */
  actor_id: string & tags.Format<"uuid">;

  /** 관련 토픽의 UUID(있을 경우). */
  topic_id?: (string & tags.Format<"uuid">) | null;

  /** 관련 스레드의 UUID(있을 경우). */
  thread_id?: (string & tags.Format<"uuid">) | null;

  /** 관련 게시물의 UUID(있을 경우). */
  post_id?: (string & tags.Format<"uuid">) | null;

  /**
   * 행위자의 역할 유형('member'/'moderator'/'admin'/'guest' 등).
   *
   * 감사 및 통계를 위한 구분자입니다.
   */
  actor_type: string;

  /**
   * 수행한 활동의 유형(예: 'view_post', 'post_created', 'comment_created',
   * 'moderation_action').
   */
  action_type: string;

  /** 이 활동이 발생한 UTC 타임스탬프. */
  action_timestamp: string & tags.Format<"date-time">;

  /** 행위자의 IP 주소 (있을 경우). GDPR 보호 및 보안 감사 트레일용입니다. */
  ip_address?: string | null;

  /** 요청을 발생시킨 User-Agent (브라우저 또는 장치 식별용). */
  user_agent?: string | null;

  /**
   * 해당 활동에 대한 확장 JSON 메타 데이터.
   *
   * 예: 편집 사유, 변경 전/후 데이터, 추가 증거 등 다목적 용도로 사용. 문자열로 직렬화된 JSON.
   */
  metadata_json?: string | null;
};
export namespace IDiscussionBoardActivityLog {
  /**
   * 감사/분석 로그 검색, 필터 및 페이징용 요청 타입입니다.
   *
   * 각 필드는 활동 로그의 속성에 대한 선택적 필터나 범위를 제공합니다. 주제, 스레드, 게시글, 행위자, 타입, 시점, IP,
   * User-Agent 등으로 필터링이 가능합니다. 페이지네이션 필드도 제공합니다.
   */
  export type IRequest = {
    /**
     * 배우의 고유 식별자(UUID).
     *
     * 감사 로그 또는 분석을 위해 활동을 수행한 회원, 관리자, 모더레이터 또는 게스트를 지정합니다.
     */
    actor_id?: string & tags.Format<"uuid">;

    /** 활동이 특정 주제(DTO)의 컨텍스트 내에서 이루어진 경우 해당 주제의 UUID 식별자입니다. */
    topic_id?: (string & tags.Format<"uuid">) | null;

    /** 활동이 특정 스레드에 속해 있을 경우 해당 논의 스레드 UUID입니다. */
    thread_id?: (string & tags.Format<"uuid">) | null;

    /** 활동이 특정 게시글에 관련된 경우 참조되는 게시글 UUID입니다. */
    post_id?: (string & tags.Format<"uuid">) | null;

    /** 행위자의 역할 유형 (예: 'member', 'moderator', 'admin', 'guest'). */
    actor_type?: string;

    /**
     * 수행된 활동의 유형 (예: 'view_topic', 'post_created', 'comment_created',
     * 'moderation_action' 등).
     */
    action_type?: string;

    /** 검색 범위의 시작 UTC 타임스탬프. */
    action_timestamp_from?: string & tags.Format<"date-time">;

    /** 검색 범위의 종료 UTC 타임스탬프. */
    action_timestamp_to?: string & tags.Format<"date-time">;

    /** 행위자의 IP 주소 (필터링에 사용될 경우). */
    ip_address?: string;

    /** 요청의 User-Agent (브라우저/디바이스 문자열). */
    user_agent?: string;

    /** 요청된 페이지 번호 (페이지네이션 지원용). */
    page?: number & tags.Type<"int32">;

    /** 페이지당 최대 결과 수 (페이지네이션 지원용). */
    limit?: number & tags.Type<"int32">;
  };

  /**
   * 신규 활동 로그 레코드 생성 요청 타입.
   *
   * 로그 PK(id)는 자동 생성됩니다. 행위자, 이벤트, 시각, 대상 엔터티(필요시), 메타데이터 필드 포함.
   */
  export type ICreate = {
    /** 이 활동을 수행한 회원/행위자의 고유 UUID 식별자. */
    actor_id: string & tags.Format<"uuid">;

    /** 활동이 특정 주제를 참조하는 경우 해당 토픽의 UUID입니다. */
    topic_id?: (string & tags.Format<"uuid">) | null;

    /** 스레드 단위 활동이면 해당 스레드의 UUID. */
    thread_id?: (string & tags.Format<"uuid">) | null;

    /** 해당되는 게시글이 있을 경우의 UUID. */
    post_id?: (string & tags.Format<"uuid">) | null;

    /** 행위자 역할 구분자 ('member', 'moderator', 'admin', 'guest' 등). */
    actor_type: string;

    /** 액션의 유형: 수행된 주요 행동 또는 이벤트 타입(예: 'view_topic', 'report_submitted' 등). */
    action_type: string;

    /** 이 활동이 발생한 UTC 타임스탬프. */
    action_timestamp: string & tags.Format<"date-time">;

    /** 활동 시 행위자의 IP 주소 (선택적). */
    ip_address?: string | null;

    /** 요청의 User-Agent(옵션). */
    user_agent?: string | null;

    /** 확장 JSON 메타데이터 (선택적): 복합 이유, 증거 등 추가 정보. 문자열로 직렬화된 JSON이어야 합니다. */
    metadata_json?: string | null;
  };

  /**
   * 특정 활동 로그를 부분적으로 수정/보완하기 위한 업데이트 요청 타입. PK(id)는 경로 파라미터 등에서 전달하며 본 타입에는
   * 포함되지 않습니다.
   *
   * 업데이트 가능한 필드만 제공하며, 변경이 필요한 항목만 선택적으로 지정합니다.
   */
  export type IUpdate = {
    /** (선택적) 변경하려는 대상 토픽 UUID */
    topic_id?: (string & tags.Format<"uuid">) | null;

    /** (선택적) 변경하려는 대상 스레드 UUID */
    thread_id?: (string & tags.Format<"uuid">) | null;

    /** (선택적) 변경하려는 대상 게시글 UUID */
    post_id?: (string & tags.Format<"uuid">) | null;

    /** 행위자 역할 구분자 ('member','moderator','admin','guest'). */
    actor_type?: string;

    /** 수정될 경우, 새로운 액션 유형 명칭. */
    action_type?: string;

    /** 수정할 때 적용할 새로운 발생 타임스탬프(UTC). */
    action_timestamp?: string & tags.Format<"date-time">;

    /** IP 주소(수정/추가). */
    ip_address?: string | null;

    /** User-Agent 문자열(수정/추가). */
    user_agent?: string | null;

    /** 확장 또는 보완할 JSON 메타데이터 문자열. */
    metadata_json?: string | null;
  };
}
