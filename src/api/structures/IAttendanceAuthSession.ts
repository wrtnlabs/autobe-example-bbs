import { tags } from "typia";

/**
 * 인증 세션(토큰발급, 로그인상태) 엔터티 표현.
 *
 * 내부 사용자 인증·토큰발급 보안 감사에 사용. 세션 만료·해제 등 상태추적도 포함.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IAttendanceAuthSession = {
  /** 인증 세션의 고유 식별자(UUID) */
  id: string & tags.Format<"uuid">;

  /** 연결된 내부 인증계정 id */
  auth_account_id: string & tags.Format<"uuid">;

  /** 실제 저장/관리되는 세션 토큰(opaque/jwt류) */
  session_token: string;

  /** 세션 발급 일시(로그인시점) */
  issued_at: string & tags.Format<"date-time">;

  /** 해당 세션(토큰)의 만료 시각 */
  expires_at: string & tags.Format<"date-time">;

  /** 만료/로그아웃/비정상종료 등으로 취소된 경우 실제 취소된 일시(없으면 null) */
  revoked_at?: (string & tags.Format<"date-time">) | null;

  /** 접속 디바이스의 user-agent(브라우저정보 문자열 등), 필수아님 */
  user_agent?: string | null;

  /** 접속 당시의 IP 주소(옵션, 저장시점). */
  ip_address?: string | null;
};
export namespace IAttendanceAuthSession {
  /**
   * 인증세션 복수/리스트 검색·필터·페이징 요청 파라미터 타입.
   *
   * 세션 토큰, 계정 UUID, 상태, page/limit 지원.
   */
  export type IRequest = {
    /** 인증세션 조회 대상 계정의 UUID(내부 인증 계정 ID)입니다. */
    auth_account_id?: string & tags.Format<"uuid">;

    /** 특정 세션 토큰값으로 단일 또는 검색 조회할 때 사용 */
    session_token?: string;

    /** True면 만료/취소(삭제)되지 않은 활성 세션만 반환하고, false/null이면 전체 반환 */
    active_only?: boolean;

    /** 가져올 페이지 번호(1-base). */
    page?: number & tags.Type<"int32">;

    /** 페이지당 레코드 개수(최대100, 기본 20) */
    limit?: number & tags.Type<"int32">;
  };

  /**
   * 새 인증 세션(로그인) 발급 요청 Body.
   *
   * OAuth2/로컬 로그인에 사용, 토큰메타 내역 포함.
   */
  export type ICreate = {
    /** 세션을 생성할 대상 인증계정 id */
    auth_account_id: string & tags.Format<"uuid">;

    /** 발급할(생성되는) 세션 토큰 string */
    session_token: string;

    /** 세션 발급일시 */
    issued_at: string & tags.Format<"date-time">;

    /** 세션(토큰) 만료일시 */
    expires_at: string & tags.Format<"date-time">;

    /** 접속 디바이스의 UA, 옵션 */
    user_agent?: string | null;

    /** 생성/접속 당시 IP, 옵션 */
    ip_address?: string | null;
  };

  /**
   * 인증 세션(토큰) 엔터티의 수정/업데이트 요청 DTO.
   *
   * 만료일 연장, 강제 해제 등 정책제어에 활용. optional-only.
   */
  export type IUpdate = {
    /** 만료 시각 연장/조정 */
    expires_at?: string & tags.Format<"date-time">;

    /** 강제 만료/로그아웃 처리시 갱신되는 실제 취소 일시(널은 활성상태) */
    revoked_at?: (string & tags.Format<"date-time">) | null;

    /** 변경할 User-Agent(옵션) */
    user_agent?: string | null;

    /** 변경할/추가 IP */
    ip_address?: string | null;
  };
}
