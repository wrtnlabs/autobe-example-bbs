import { tags } from "typia";

import { IPage } from "./IPage";

/**
 * 단일 중재(Moderation) 액션 상세 레코드. 경고, 사용자 제한, 콘텐츠 삭제 등 각종 조치의 이력 기록.
 *
 * Prisma discussion_board_moderation_action 구조와 세부정책을 반영.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IDiscussionBoardModerationAction = {
  /**
   * 고유 중재 액션 식별자(UUID).
   *
   * Prisma discussion_board_moderation_action.id 컬럼에 해당함.
   */
  id: string & tags.Format<"uuid">;

  /** 중재(조치) 담당자 UUID. */
  moderator_id: string & tags.Format<"uuid">;

  /** 중재 조치의 대상 사용자 UUID. */
  subject_user_id: string & tags.Format<"uuid">;

  /** 조치의 대상인 게시글 UUID (없을 수 있음) */
  related_post_id?: (string & tags.Format<"uuid">) | null;

  /** 조치의 대상인 댓글 UUID (없을 수 있음) */
  related_comment_id?: (string & tags.Format<"uuid">) | null;

  /** 이 액션을 야기한 신고id(선택적 1:1 연결) */
  report_id?: (string & tags.Format<"uuid">) | null;

  /**
   * 조치 유형(예: 'warn', 'ban', 'remove_post' 등)
   *
   * 비즈니스 정책상 enum 관리 권장.
   */
  action_type: string;

  /** 조치 사유 상세(감사 및 투명성 목적). */
  action_reason: string;

  /** 조치 이력 생성 시각(ISO8601) */
  created_at: string & tags.Format<"date-time">;
};
export namespace IDiscussionBoardModerationAction {
  /**
   * 중재(모더레이션) 로그 검색/조회 요청 바디.
   *
   * 중재자, 대상, 게시글/댓글, 신고, 유형, 사유, 날짜별 필터 등 검색 및 페이지네이션에 적합.
   */
  export type IRequest = {
    /** 중재자 고유 id. (필터링/검색용) */
    moderator_id?: (string & tags.Format<"uuid">) | null;

    /** 조치 대상 사용자 UUID(검색용) */
    subject_user_id?: (string & tags.Format<"uuid">) | null;

    /** 관련 게시글 UUID(검색/필터) */
    related_post_id?: (string & tags.Format<"uuid">) | null;

    /** 관련 댓글 UUID(검색/필터) */
    related_comment_id?: (string & tags.Format<"uuid">) | null;

    /** 해당 조치와 연관된 신고 ID (검색) */
    report_id?: (string & tags.Format<"uuid">) | null;

    /** 조치 유형(필터, 예: 'warn', 'ban', 'remove_post') */
    action_type?: string | null;

    /** 조치 사유(텍스트 검색) */
    action_reason?: string | null;

    /** 조치 기록 생성 시작일(필터) */
    created_at_start?: (string & tags.Format<"date-time">) | null;

    /** 조치 기록 생성 종료일(필터) */
    created_at_end?: (string & tags.Format<"date-time">) | null;
    pagination?: IPage.IRequest;
  };

  /**
   * 새로운 중재/조치 액션을 등록하는 요청 스키마.
   *
   * 조치 담당자, 대상, (선택) 관련 게시글/댓글/신고, 유형, 사유 필수.
   *
   * Prisma discussion_board_moderation_action 테이블 정책 및 설명을 반영.
   */
  export type ICreate = {
    /** 조치/중재 담당자 UUID. 필수. */
    moderator_id: string & tags.Format<"uuid">;

    /** 중재 조치 대상 사용자 UUID. 필수. */
    subject_user_id: string & tags.Format<"uuid">;

    /** (옵션) 관련 게시글 UUID(없으면 null) */
    related_post_id?: (string & tags.Format<"uuid">) | null;

    /** (옵션) 관련 댓글 UUID(없으면 null) */
    related_comment_id?: (string & tags.Format<"uuid">) | null;

    /** (옵션) 연관된 신고id(있으면 1:1) */
    report_id?: (string & tags.Format<"uuid">) | null;

    /** 중재/조치 유형(예: 'warn', 'ban', 'remove_post' 등), 필수 */
    action_type: string;

    /** 조치 이유 설명. 필수 */
    action_reason: string;
  };

  /**
   * Request body for updating an existing moderation action as found in the
   * discussion_board_moderation_action table.
   *
   * Covers updateable elements including references to moderator, subject
   * user, the content targeted, the original report (optional), as well as
   * the action type and rationale.
   *
   * All fields reference the original Prisma schema for
   * discussion_board_moderation_action.
   */
  export type IUpdate = {
    /**
     * The UUID referencing the moderator who performed the moderation
     * action. Sourced from discussion_board_moderator.id. Used to track who
     * is responsible for this action.
     *
     * Refer to: Prisma schema 'discussion_board_moderation_action', column
     * 'moderator_id'.
     */
    moderator_id: string & tags.Format<"uuid">;

    /**
     * The UUID of the user targeted by this moderation action. Sourced from
     * discussion_board_user.id.
     *
     * Refer to: Prisma schema 'discussion_board_moderation_action', column
     * 'subject_user_id'.
     */
    subject_user_id: string & tags.Format<"uuid">;

    /**
     * The UUID of the post affected by this moderation action, or null if
     * not applicable. Sourced from discussion_board_post.id.
     *
     * Refer to: Prisma schema 'discussion_board_moderation_action', column
     * 'related_post_id'.
     */
    related_post_id?: (string & tags.Format<"uuid">) | null;

    /**
     * The UUID of the comment affected, or null if not relevant. Sourced
     * from discussion_board_comment.id.
     *
     * Refer to: Prisma schema 'discussion_board_moderation_action', column
     * 'related_comment_id'.
     */
    related_comment_id?: (string & tags.Format<"uuid">) | null;

    /**
     * The UUID of the related user report, or null if none. Sourced from
     * discussion_board_report.id.
     *
     * Refer to: Prisma schema 'discussion_board_moderation_action', column
     * 'report_id'.
     */
    report_id?: (string & tags.Format<"uuid">) | null;

    /**
     * A string describing the type of moderation action, such as 'warn',
     * 'ban', 'remove_post', etc. Used for classification and audit trails.
     *
     * Refer to: Prisma schema 'discussion_board_moderation_action', column
     * 'action_type'.
     */
    action_type: string;

    /**
     * The human-readable reason for this moderation action. Provides audit
     * trail detail and is visible to both enforcement staff and, in some
     * cases, the affected user.
     *
     * Refer to: Prisma schema 'discussion_board_moderation_action', column
     * 'action_reason'.
     */
    action_reason: string;
  };
}
