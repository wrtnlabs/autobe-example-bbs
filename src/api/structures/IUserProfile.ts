import { tags } from "typia";

import { IPage } from "./IPage";

/**
 * 개별 사용자 프로필 엔터티.
 *
 * Prisma user_profiles 테이블과 1:1 관계로 연결됨. display_name(닉네임), avatar_url(이미지),
 * bio(소개글), 가입일 정보가 포함됩니다.
 *
 * 이 필드는 공개 프로필, 포스트/코멘트 렌더링 시 활용됩니다.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IUserProfile = {
  /** 프로필 고유 식별자(Prisma user_profiles.id). */
  id: string & tags.Format<"uuid">;

  /** 소유자 사용자 계정 ID(Prisma user_profiles.user_id). */
  user_id: string & tags.Format<"uuid">;

  /** 닉네임/공개 이름. 회원 공개 ID로 사용. */
  display_name: string;

  /** 프로필 이미지(아바타) URL. null 가능. */
  avatar_url?: string | null;

  /** 회원 소개글(자기소개), 선택 필드. */
  bio?: string | null;

  /** 프로필(및 회원) 가입 시각. */
  joined_at: string & tags.Format<"date-time">;
};
export namespace IUserProfile {
  /**
   * 사용자 프로필 목록(검색/필터용) 요청 데이터. display_name(닉네임), 가입일, 프로필 완성도 등으로 필터링할 수
   * 있습니다.
   *
   * 관리자/모더레이터 UI, 커뮤니티 통계, 고급 검색 등에 사용됨.
   */
  export type IRequest = {
    /**
     * 닉네임, 사용자 식별용 public name.
     *
     * 전체 또는 부분 검색이 가능합니다.
     */
    display_name?: string;

    /** 가입일 범위 검색(시작). */
    joined_at_from?: string & tags.Format<"date-time">;

    /** 가입일 범위 검색(종료). */
    joined_at_to?: string & tags.Format<"date-time">;

    /** 프로필에 아바타 이미지가 존재하는지 필터링합니다. */
    has_avatar?: boolean;

    /** 소개글 존재 여부로 프로필 완성도를 거를 때 사용. */
    has_bio?: boolean;
    pagination?: IPage.IRequest;

    /** 정렬 기준(예: joined_at desc, display_name asc 등). */
    sort?: string;
  };

  /**
   * 신규 사용자 프로필 생성 요청 입력값.
   *
   * Display_name(필수), avatar_url, bio, joined_at 등의 필드를 지정합니다.
   *
   * 일반적으로 회원가입 완료 후 초기 프로필 설정이나 별도 프로필 생성에 사용합니다.
   */
  export type ICreate = {
    /** 연결될 사용자 계정의 ID. */
    user_id: string & tags.Format<"uuid">;

    /** 회원 닉네임/공개 이름(필수). */
    display_name: string;

    /** 프로필 아바타 이미지 URL, null 가능. */
    avatar_url?: string | null;

    /** 자기소개. 짧음 권장. */
    bio?: string | null;

    /** 프로필 생성 시각(일반적으로 사용자 생성 시각과 동일). */
    joined_at: string & tags.Format<"date-time">;
  };

  /**
   * 기존 사용자 프로필 수정 시 사용하는 타입.
   *
   * 수정 가능한 필드만 포함하며, 모든 필드는 Optional 입니다. 닉네임, 아바타 이미지, 소개글 등을 갱신할 수 있습니다.
   */
  export type IUpdate = {
    /** 수정할 닉네임. */
    display_name?: string;

    /** 변경/등록할 프로필 이미지 URL. */
    avatar_url?: string;

    /** 자기소개(수정가능). */
    bio?: string;
  };
}
