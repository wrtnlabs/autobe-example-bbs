import { tags } from "typia";

/**
 * 게시글-첨부파일의 실제 링크 구조를 나타내는 대표 엔티티 타입입니다.
 *
 * Discussion_board_post와 attachment간의 연결(m:n)을 담당하며, 파일 첨부/노출시 반드시 참조합니다. 모든
 * 필드는 Prisma 스키마의 atomic 필드에 대응합니다.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IDiscussionBoardPostAttachmentLink = {
  /**
   * 게시글-첨부파일 링크의 고유 식별자 값입니다.
   *
   * Prisma 테이블 discussion_board_post_attachment_link의 PK에 해당합니다. 예:
   * '594b9c7c-2b91-4b5b-89f4-8277e7b58232'
   */
  id: string & tags.Format<"uuid">;

  /**
   * 게시글 ID(외부키)로, 해당 링크가 어떤 post에 속하는지를 지정합니다.
   *
   * Discussion_board_post의 id를 참조합니다.
   */
  post_id: string & tags.Format<"uuid">;

  /**
   * 첨부파일 ID(외부키), discussion_board_attachment의 id를 참조합니다.
   *
   * 실제 연결된 첨부파일의 식별값입니다.
   */
  attachment_id: string & tags.Format<"uuid">;

  /**
   * 동일 게시글 내 첨부파일들의 노출 순서를 지정하는 값입니다.
   *
   * 자연수(1,2,3 등)로써 첨부파일 열람시 순서 보장 목적. 고유(unique)해야 합니다.
   */
  attachment_order: number & tags.Type<"int32">;

  /**
   * 해당 첨부파일 링크가 논리적으로 비활성(숨김) 상태인지 여부입니다.
   *
   * 숨김/삭제 처리된 경우 true, 평상시 false입니다.
   */
  disabled: boolean;

  /**
   * 첨부파일 링크가 생성된 시각(ISO 8601)입니다.
   *
   * Prisma discussion_board_post_attachment_link의 created_at을 따름.
   */
  created_at: string & tags.Format<"date-time">;

  /**
   * 첨부파일 링크의 논리적 삭제(soft delete) 시각입니다.
   *
   * 삭제 전(null), 삭제된 경우 '2025-07-11T14:00:00'과 같은 시각 값.
   */
  deleted_at?: (string & tags.Format<"date-time">) | null;
};
export namespace IDiscussionBoardPostAttachmentLink {
  /**
   * 게시글-첨부파일 링크의 목록을 페이징/검색/필터링하여 요청하기 위한 타입입니다.
   *
   * Discussion_board_post_attachment_link의 다양한 속성 값(post/attachment 연계, 비활성
   * 여부 등)으로 리스트를 필터링하고, pagination도 동시에 지정 가능합니다.
   *
   * 모든 필드는 선택사항이며, 값이 null 또는 생략될 경우 필터로 적용되지 않습니다.
   */
  export type IRequest = {
    /**
     * 조회할 페이지 번호입니다. (1부터 시작하는 자연수)
     *
     * 미지정시는 첫 페이지(보통 1)가 선택됩니다.
     */
    page?:
      | (number &
          tags.Type<"int32"> &
          tags.JsonSchemaPlugin<{
            format: "uint32";
          }>)
      | null;

    /**
     * 페이지 당 최대 결과 개수입니다.
     *
     * 디폴트는 100이며, 시스템에 따라 상한이 있을 수 있습니다.
     */
    limit?:
      | (number &
          tags.Type<"int32"> &
          tags.JsonSchemaPlugin<{
            format: "uint32";
          }>)
      | null;

    /**
     * 어떤 게시글(post)에 연결된 첨부파일 링크를 조회할지 지정하는 UUID입니다.
     *
     * Discussion_board_post_attachment_link의 post_id로, 게시글 별 첨부파일 리스트를
     * 구분합니다.
     */
    post_id?: (string & tags.Format<"uuid">) | null;

    /** 특정 첨부파일(attachment)이 어떤 게시글/post에 연결돼 있는지 조회할 때 사용합니다. */
    attachment_id?: (string & tags.Format<"uuid">) | null;

    /**
     * 첨부파일 링크가 논리적으로 비활성 처리된 경우만 필터링합니다.
     *
     * 비활성(숨김) 여부를 조건으로 검색 가능하도록 합니다.
     */
    disabled?: boolean | null;
  };

  /**
   * 게시글-첨부파일 링크 신규 생성에 사용되는 타입입니다.
   *
   * Prisma의 discussion_board_post_attachment_link 테이블의 필수/유일 제약에 맞춰 값을 작성해야
   * 합니다.
   *
   * 특히 post_id, attachment_id, attachment_order는 고유 조합이어야 하며, disabled는 초기 값도
   * 꼭 명시해야 합니다.
   */
  export type ICreate = {
    /**
     * 첨부파일을 붙일 게시글(UUID) ID입니다.
     *
     * Prisma discussion_board_post_attachment_link.post_id를 통해 전달됩니다.
     */
    post_id: string & tags.Format<"uuid">;

    /**
     * 첨부파일 UUID입니다.
     *
     * Prisma discussion_board_post_attachment_link.attachment_id로, 실제 연결할
     * 파일 ID를 지정합니다.
     */
    attachment_id: string & tags.Format<"uuid">;

    /**
     * 게시글 내 첨부파일들 사이의 노출 순서(1-base)입니다.
     *
     * 동일 post 내에서 유일(unique)해야 하며, 일반적으로 1부터 시작해 추가되며 정렬에 활용됩니다.
     */
    attachment_order: number & tags.Type<"int32">;

    /**
     * 첨부파일 링크의 비활성화 상태를 지정합니다.
     *
     * 초기 생성시 일반적으로 false(사용)지만, preview 파일 붙이기 등에서는 true 여야 할 수 있습니다.
     */
    disabled: boolean;
  };

  /**
   * 게시글-첨부파일 링크 정보(순서/상태)를 갱신하는데 사용되는 타입입니다.
   *
   * Attachment_order와 disabled만 수정 가능합니다. 실제 파일/게시글 연계는 바꿀 수 없습니다.
   */
  export type IUpdate = {
    /**
     * 첨부파일 노출 순서(1-base 혹은 현재 post 내에서의 새로운 인덱스).
     *
     * 순서 변경이 필요할 경우에 지정, 유일해야 함.
     */
    attachment_order?: number & tags.Type<"int32">;

    /**
     * 첨부파일 링크 활성/비활성화 여부.
     *
     * 삭제/숨김 처리 시 true, 복구/노출시 false로 갱신.
     */
    disabled?: boolean;
  };

  /**
   * 게시글-첨부파일 링크의 삭제(비활성화) 결과 정보입니다.
   *
   * 삭제가 성공적으로 이뤄졌음을 확인하기 위해 반환하며, 실제 레코드 논리삭제 시각과 PK를 함께 제공합니다.
   */
  export type IDeleteResult = {
    /**
     * 삭제된(비활성화된) 게시글-첨부파일 링크의 고유 식별 값입니다.
     *
     * 삭제 확인이나 클라이언트 UI 갱신 시 활용 가능합니다.
     */
    id: string & tags.Format<"uuid">;

    /** 삭제(soft delete) 완료 시각(UTC ISO 8601) 값. '2025-07-11T14:00:00'과 같이 관리됨. */
    deleted_at: string & tags.Format<"date-time">;
  };
}
