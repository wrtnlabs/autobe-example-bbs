import { tags } from "typia";

/**
 * Platform 내 주요 정책 변경, 권한 위임, 설정, 보안 이벤트 등의 감사 추적을 위한 단일 감사로그 엔터티입니다. Prisma
 * discussion_board_audit_logs에서 직접 맵핑되었으며, 각 필드는 감사 추론·감사 시스템의 핵심 메타입니다.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IDiscussionBoardAuditLog = {
  /** 고유 감사 로그 ID. Prisma discussion_board_audit_logs.id 컬럼에서 파생됨. */
  id: string & tags.Format<"uuid">;

  /** 액션을 실행한 유저의 ID. null일 경우 시스템 또는 익명 작업. Prisma actor_id 컬럼. */
  actor_id?: (string & tags.Format<"uuid">) | null;

  /** 액션의 영향을 받은 엔터티의 식별자. 대상이 없는 경우 null. Prisma target_id 컬럼. */
  target_id?: (string & tags.Format<"uuid">) | null;

  /** 이벤트 타입/액션(예: assign_moderator). Prisma action_type 컬럼 참조. */
  action_type: string;

  /** 상세 로그 또는 부가 정보(선택). Prisma action_detail 컬럼. */
  action_detail?: string | null;

  /** 이 로그가 기록된 시각(ISO8601). Prisma created_at 컬럼. */
  created_at: string & tags.Format<"date-time">;
};
export namespace IDiscussionBoardAuditLog {
  /**
   * 감사 로그(관리감사, 정책변경 등) 목록을 고급 조건(검색/필터/정렬)으로 조회할 때 사용하는 요청 객체입니다. 페이지, 액터,
   * 액션타입, 기간 등 다양한 필터를 조합할 수 있습니다.
   */
  export type IRequest = {
    /** 페이지 번호입니다(옵션). 1 이상 양의 정수여야 합니다. 프론트의 검색/페이징 요청과 매칭합니다. */
    page?:
      | (number &
          tags.Type<"int32"> &
          tags.JsonSchemaPlugin<{
            format: "uint32";
          }>)
      | null;

    /** 페이지당 최대 로드할 레코드 수. 기본값은 100이며, 1 이상의 양수로 제한됩니다. */
    limit?:
      | (number &
          tags.Type<"int32"> &
          tags.JsonSchemaPlugin<{
            format: "uint32";
          }>)
      | null;

    /** 액션을 실행한 actor(관리자, 모더레이터 등)의 식별자(UUID). null일 경우 전체 로그 대상으로 검색합니다. */
    actor_id?: (string & tags.Format<"uuid">) | null;

    /** 액션 대상 오브젝트의 ID(UUID). null일 경우 무제한 대상. */
    target_id?: (string & tags.Format<"uuid">) | null;

    /**
     * 액션 타입(e.g., 'assign_moderator', 'update_setting'). null이면 타입 제한 없이 전체
     * 로그를 검색합니다.
     */
    action_type?: string | null;

    /** 조회 기간의 시작 시각 (ISO8601). null이면 제한 없음. */
    created_at_from?: (string & tags.Format<"date-time">) | null;

    /** 조회 기간의 종료 시각 (ISO8601). null이면 미제한. */
    created_at_to?: (string & tags.Format<"date-time">) | null;
  };

  /**
   * 신규 감사 로그 기록 시 사용되는 생성 타입입니다. actor, 대상, 액션타입, 상세내용 입력을 지원하며, 필수는
   * action_type(이벤트명)입니다. created_at 등 시스템값은 서버에서 할당됩니다.
   */
  export type ICreate = {
    /** 액션 실행 주체(관리자/모더레이터 등)의 id. null이면 시스템 이벤트로 간주. */
    actor_id?: (string & tags.Format<"uuid">) | null;

    /** 액션 영향 엔터티 id(카테고리 등). 미지정시 null. */
    target_id?: (string & tags.Format<"uuid">) | null;

    /** 수행된 이벤트/작업명 (예: assign_moderator). Prisma action_type 컬럼. */
    action_type: string;

    /** 상세 설명 또는 증거, 부가 설명(옵션). */
    action_detail?: string | null;
  };

  /**
   * 기존 감사 로그 row에 수기로 수정 설명을 추가(관리자/감사자)하거나, 액션명 또는 actor/target을 교정할 때 사용하는
   * 오브젝트입니다. 로그의 신뢰성 확보와 감사 metadata 보완을 위해 활용됩니다.
   */
  export type IUpdate = {
    /** 액터 id. */
    actor_id?: (string & tags.Format<"uuid">) | null;

    /** 대상 엔터티 id. */
    target_id?: (string & tags.Format<"uuid">) | null;

    /** 수정할 액션타입명. */
    action_type?: string;

    /** 상세 설명 또는 부연 설명. */
    action_detail?: string | null;
  };
}
