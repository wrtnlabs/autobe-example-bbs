import { tags } from "typia";

/**
 * Discussion_board_notifications(알림) 테이블의 전체 필드와 Prisma 주석/요구사항을 망라하는 알림 도메인
 * 오브젝트. 알림 센터, 알림 상세, 정책 알림 등 다양한 UX/비즈니스에 쓰임.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IDiscussionBoardNotification = {
  /** 알림 고유 ID (discussion_board_notifications.id) */
  id: string & tags.Format<"uuid">;

  /** 알림 수신자(회원) UUID. discussion_board_members.id 참조 */
  recipient_member_id: string & tags.Format<"uuid">;

  /** 알림을 유발한 행위 주체(댓글/멘션/관리자 등) UUID, 시스템/자동 발송 등은 null. */
  trigger_actor_id?: (string & tags.Format<"uuid">) | null;

  /** 알림 유형. 예: 'reply', 'mention', 'moderation', 'subscription'... */
  type: string;

  /** 이벤트 요약/미리보기 텍스트. Prisma content_preview. 예: 댓글/게시물 요약. */
  content_preview?: string | null;

  /** 알림 대상 리소스/콘텐츠 URI. */
  url: string;

  /** 알림이 읽힘 상태인지 여부. */
  read: boolean;

  /** 알림이 수신/배포된 일시(ISO8601). */
  delivered_at?: (string & tags.Format<"date-time">) | null;

  /** 알림 생성시각(ISO8601). */
  created_at: string & tags.Format<"date-time">;

  /** 알림 삭제(소프트 삭제) 일시. null이면 정상, 값 있으면 삭제됨. */
  deleted_at?: (string & tags.Format<"date-time">) | null;
};
export namespace IDiscussionBoardNotification {
  /**
   * Discussion_board_notifications(알림) 리스트, 필터, 페이지네이션용 요청 객체 입니다. 관리/알림
   * UX/알림센터 등 다양한 시나리오에서 활용됩니다.
   */
  export type IRequest = {
    /** Discussion_board_notifications 컬럼별 알림 엔터티 필터링 조건 */
    filter?: {
      /** 필터링하려는 알림 수신자(회원) UUID입니다. */
      recipient_member_id?: string & tags.Format<"uuid">;

      /** 알림 유형(댓글, 멘션, 구독 등)별로 필터링에 사용. */
      type?: string;

      /** 읽음/안읽음 상태별로 필터합니다. */
      read?: boolean;

      /** 해당 일시 이후 배달된 알림만 조회. */
      delivered_from?: string & tags.Format<"date-time">;

      /** 해당 일시 이전에 배달된 알림만 조회. */
      delivered_to?: string & tags.Format<"date-time">;
    };

    /** 페이지 번호(1부터 시작). */
    page?: number & tags.Type<"int32">;

    /** 한 페이지당 데이터 개수. */
    limit?: number & tags.Type<"int32">;

    /** 정렬 옵션. 예: 최신순 순서/읽음순 등. */
    sort?: string;
  };

  /**
   * Discussion_board_notifications 테이블 알림 생성 요청용 객체. 수신 대상 회원, 알림 유형, 대상 URI
   * 등을 필수로 명시하며, 트리거 주체, 미리보기(요약)는 옵션입니다.
   */
  export type ICreate = {
    /** 알림 대상 회원 UUID. Must match discussion_board_members.id. */
    recipient_member_id: string & tags.Format<"uuid">;

    /** 알림 원인 주체(주로 회원). system 알림시 null 허용. */
    trigger_actor_id?: (string & tags.Format<"uuid">) | null;

    /** 알림 종류(예: reply, mention, moderation, subscription 등). 비즈니스 정책에 따라 분류. */
    type: string;

    /** 요약(간단 메시지), 예: 댓글 미리보기. */
    content_preview?: string | null;

    /** 알림 관련 리소스 주소(스레드, 댓글, 관리패널 등). */
    url: string;
  };

  /**
   * 알림의 상태(읽음 처리, 배포여부, 미리보기 컨텐츠 등)를 수정할 때 사용. Prisma notification 모델 주석 및 업무
   * 시나리오와 동기화.
   */
  export type IUpdate = {
    /** 읽음 처리 플래그. (read/unread UX, 포함해야 함) */
    read?: boolean;

    /** 알림 배포(실제 수신) 시간. */
    delivered_at?: (string & tags.Format<"date-time">) | null;

    /** 알림 미리보기(요약) 내용 변경. */
    content_preview?: string | null;
  };
}
