import { tags } from "typia";

/**
 * Discussion_board_bans 엔티티(제재/밴 기록)를 완전히 표현하는 타입입니다. Prisma schema의 모든 컬럼이
 * 대응되며, 각 프로퍼티는 감사 및 정책 위반 처리, 영구/임시 제재 관리, 소프트 삭제 복원/리포팅 등 용도에 사용됩니다.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type IDiscussionBoardBan = {
  /** 고유 식별자. 제재(밴) 레코드의 PK. Prisma discussion_board_bans.id에 해당. */
  id: string & tags.Format<"uuid">;

  /** 제재 대상 회원의 UUID. discussion_board_members.id 참조. */
  member_id: string & tags.Format<"uuid">;

  /** 제재를 부과한 모더레이터(또는 관리자) UUID. discussion_board_moderators.id 참조. */
  moderator_id: string & tags.Format<"uuid">;

  /** 제재(밴) 사유. 예: '다수 TOS 위반', '도배/스팸'. Prisma의 ban_reason 컬럼. */
  ban_reason: string;

  /** 영구 제재 여부. 참이면 계속 유지, 거짓이면 expires_at에 따라 만료됨. */
  permanent: boolean;

  /** 제재가 부과된 일시(ISO8601). */
  created_at: string & tags.Format<"date-time">;

  /** 제재 만료 일시. 영구제재가 아닌 경우 채워지며, 만료 후 제재가 해제됨. null이면 영구제재를 의미. */
  expires_at?: (string & tags.Format<"date-time">) | null;

  /**
   * 소프트 삭제(복구/감사 목적) 타임스탬프. null이면 활성 ban, 날짜가 있으면 제거/해제된 ban. Prisma
   * discussion_board_bans.deleted_at 컬럼.
   */
  deleted_at?: (string & tags.Format<"date-time">) | null;
};
export namespace IDiscussionBoardBan {
  /**
   * Discussion_board_bans(제재) 엔티티에 대해 검색/필터/페이지네이션을 위한 요청 타입입니다. 관리/감사/통계/정책
   * 위반 모니터링 목적 등 다양한 행정 시나리오에서 활용되며, 필터링, 정렬, 페이징 등 다양한 옵션을 지원합니다.
   */
  export type IRequest = {
    /** 제재 기록 필터 조건. Prisma의 discussion_board_bans 테이블의 컬럼 별 필터링을 지원합니다. */
    filter?: {
      /** 필터 조건. 해당 회원의 제재(밴) 기록을 조회할 때 사용되는 UUID입니다. */
      member_id?: string & tags.Format<"uuid">;

      /** 필터 조건. 해당 모더레이터가 발급한 제재(밴) 기록을 조회할 때 사용되는 UUID입니다. */
      moderator_id?: string & tags.Format<"uuid">;

      /** 제재가 영구인지(참) 일시적인지(거짓)를 필터링할 때 사용합니다. */
      permanent?: boolean;

      /** 밴 사유로 필터링할 때 사용합니다. */
      ban_reason?: string;

      /** 해당 일시 이후로 생성된 제재 기록만 조회. */
      created_from?: string & tags.Format<"date-time">;

      /** 해당 일시 이전에 생성된 제재 기록만 조회. */
      created_to?: string & tags.Format<"date-time">;
    };

    /** 조회할 페이지 번호입니다. 1부터 시작. */
    page?: number & tags.Type<"int32">;

    /** 한 페이지당 가져올 개수입니다. 기본값 20, 최대값 제한이 있을 수 있습니다. */
    limit?: number & tags.Type<"int32">;

    /** 정렬 조건. 예: 최신순(created_at desc), 오래된순(created_at asc) 등. */
    sort?: string;
  };

  /**
   * 새로운 제재(밴) 레코드를 생성할 때 사용하는 타입입니다. 필수 필드는 대상 대상 회원, 부과자, 사유, 영구 여부이며, 영구가
   * 아닌 경우 expires_at 지정이 필수입니다.
   */
  export type ICreate = {
    /** 대상 회원 UUID. discussion_board_members.id 참조. 필수 입력. */
    member_id: string & tags.Format<"uuid">;

    /** 제재 부과자(모더레이터/관리자) UUID. discussion_board_moderators.id 참조. 필수 입력. */
    moderator_id: string & tags.Format<"uuid">;

    /** 제재 부여 이유. 예: '다중 경고 후' 등. Prisma ban_reason 컬럼과 연동. */
    ban_reason: string;

    /** 영구 제재 여부. true 시 expires_at 생략, false 시 expires_at 필수. */
    permanent: boolean;

    /** 임시 제재일 때 만료 시각(ISO8601 변환). 영구 제재인 경우 null입니다. */
    expires_at?: (string & tags.Format<"date-time">) | null;
  };

  /**
   * 기존 제재(밴) 레코드의 특정 필드들(사유, 영구 여부, 만료일자, 삭제일시 등)을 수정하는 요청에 사용됩니다. Prisma
   * discussion_board_bans 테이블 구조와 동기화됩니다.
   */
  export type IUpdate = {
    /** 변경/업데이트할 제재(밴) 사유. 기존 사유에서 수정이 필요한 경우 사용. */
    ban_reason?: string;

    /** 영구 제재 여부의 변경. false→true 또는 true→false로 업데이트가 필요한 경우. */
    permanent?: boolean;

    /** 임시 제재일 경우 만료 시각 업데이트. ISO8601, 영구로 변경 시 null 처리. */
    expires_at?: (string & tags.Format<"date-time">) | null;

    /** 제재 해제/소프트 삭제 시점. */
    deleted_at?: (string & tags.Format<"date-time">) | null;
  };
}
