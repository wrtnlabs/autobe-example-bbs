# 출결 시스템: 소셜 로그인 및 인증 연동 설계

---

## 1. 개요

출결 시스템의 인증은 사용자 접근성 제고 및 효과적인 정보 보호를 동시에 달성해야 합니다. 본 문서는 네이버, 구글 등 주요 소셜 로그인과 자체 계정 연동 방식을 통합하여 사용자 친화적 인증 경험을 설계하는 것을 목표로 합니다.

## 2. 목표 및 필요성

- **접근성 강화:** 손쉬운 로그인 경험 제공 및 사용자의 계정 생성/관리 부담 최소화
- **보안성 확보:** 인증 과정에서 개인정보 보호와 안전한 데이터 연동 보장
- **확장성 및 일관성:** 다양한 소셜 플랫폼 추가 및 내부 인증 시스템과의 매끄러운 통합 지원

## 3. 지원 소셜 로그인 종류

| 플랫폼     | 지원 여부 | 비고                             |
|------------|----------|---------------------------------|
| 네이버     | O        | 국내 사용자에 최적화             |
| 구글       | O        | 해외 및 범용 사용자 지원         |
| 카카오     | △        | 2차 개발 범위, 사용자 요청 기반  |
| 자체 계정  | O        | 아이디/비밀번호 직접 인증 지원   |


## 4. 전체 인증 플로우

```mermaid
graph TD
  시작(로그인/회원가입 페이지 진입) --> 선택{로그인 방식 선택}
  선택 -->|구글| 구글인증
  선택 -->|네이버| 네이버인증
  선택 -->|자체계정| 자체인증
  구글인증 --> 인증콜백(소셜 인증 결과 수신)
  네이버인증 --> 인증콜백
  자체인증 --> 인증콜백
  인증콜백 -->|성공| 계정매핑/자동가입처리
  인증콜백 -->|실패| 오류처리 및 재시도 요청
  계정매핑/자동가입처리 --> 대시보드진입
```


## 5. 사용자 시나리오

### A. 신규 회원 Google/Naver로 가입
- 로그인 페이지에서 구글/네이버 선택
- 각 소셜 플랫폼 인증 페이지 이동 및 로그인
- 최초 이용 시 프로필 제공 동의 절차
- 기존 계정과 연동되는 경우 계정 통합 여부 확인
- 첫 로그인 후 즉시 서비스 대시보드 진입

### B. 기존 회원 소셜 계정 연동 추가
- 마이페이지 > 소셜 계정 연동 메뉴 진입
- 추가하고자 하는 소셜 플랫폼 클릭 후 인증 진행
- 연동 성공 시 내 정보에 계정 정보 추가 표기

### C. 자체 계정 복구 및 소셜 연동
- 비밀번호 분실 시 인증 메일/문자 발송
- 소셜 계정 연동을 통한 간편 복구 절차 제공

## 6. 주요 요구사항: 기능

- **OAuth 2.0 기반 API 인증 및 토큰 관리**
- **중복된 소셜/이메일 계정 통합 지원**
- **사용자 상태별(신규/기존/탈퇴) 인증 프로세스 분기**
- **자동 계정 등록 및 프로필 데이터 확보 동의 절차**
- **로그인 실패 및 예외 응답 메커니즘**

## 7. 주요 요구사항: 비기능

- **개인정보 보호 및 암호화 전송**
- **응답 속도 2초 이내, 장애 시 Fail-safe 메커니즘 구축**
- **계정 연동/해제 로그 저장(감사용)**

## 8. 예시(플로우 안내 화면)

> "로그인에 실패하셨나요? 다른 계정 연동 또는 자체 인증으로 시도해보세요."


## 9. 향후 확장 방향

- 카카오, 페이스북 등 추가 소셜 로그인 API 연동 검토
- WeChat 등 글로벌 진출 시 현지 채널 추가 지원

---

[목차로 돌아가기](./00_attendance_toc.md)

---

이 문서에 추가하거나 개선해야 할 내용이 있으면 요청해 주세요.